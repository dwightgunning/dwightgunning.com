---
import { Image } from "astro:assets";
import type { CollectionEntry } from 'astro:content';

import ActivityTagPill from './ActivityTagPill.astro';
import ActivityDateLabels from './ActivityDateLabels.astro';

interface Props {
  outdoorsPage: CollectionEntry<'outdoors'>;
}

const { outdoorsPage } = Astro.props;
const outdoorsPageUrl = `/outdoors/${outdoorsPage.slug}/`;
---

<div class="flex flex-col sm:flex-row surface-low justify-between gap-2 rounded p-4">
  <div class="flex flex-col gap-1">
    <div class="text-lg">
      <a href={outdoorsPageUrl}>{outdoorsPage.data.title}</a>
    </div>
    <div class="flex flex-row gap-1 sm:gap-2">
      {outdoorsPage.data.tags.map((tag: string) => <ActivityTagPill tag={tag} />)}
    </div>
    <ActivityDateLabels outdoorsPage={outdoorsPage} />
    <p class="my-2">
      {outdoorsPage.data.introduction}
      <a class="interactive-accent" href={outdoorsPageUrl}>Read more ...</a>
    </p>
  </div>
  <div class="flex-none self-center w-[160px] h-[120px]">
    <a href={outdoorsPageUrl}>
      <Image 
        alt={`Thumbnail map showing the ${outdoorsPage.data.title} ${outdoorsPage.data.type.toLowerCase()} activity.`}
        class="object-scale-down rounded border-solid border-2 border-amber-800 dark:border-amber-200 w-full h-full" 
        src={outdoorsPage.data.map.thumbnail.image} />
    </a>
  </div>
</div>
